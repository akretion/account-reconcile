<?xml version="1.0" encoding="UTF-8"?> 
<openerp>
<data>

    <!-- account.easy.reconcile view -->
    <record id="account_easy_reconcile_form" model="ir.ui.view">
        <field name="name">account.easy.reconcile.form</field>
        <field name="priority">20</field>
        <field name="model">account.easy.reconcile</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Automatic Easy Reconcile">
                <separator colspan="4" string="Task Information" />
                <field name="name" select="1"/>
                <field name="account"/>
                <field name="unreconciled_count"/>
                <field name="reconciled_partial_count"/>
                <field name="scheduler"/>
                <separator colspan="4" string="Reconcile Method" />
                <notebook colspan="4">
                    <page name="methods" string="Configuration">
                        <field name="reconcile_method" colspan = "4" nolabel="1"/>
                    </page>
                    <page name="information" string="Information">
                      <separator colspan="4" string="Simple. Amount and Name"/>
                      <label string="Match one debit line vs one credit line. Do not allow partial reconcilation.
The lines should have the same amount (with the write-off) and the same name to be reconciled." colspan="4"/>

                      <separator colspan="4" string="Simple. Amount and Name"/>
                      <label string="Match one debit line vs one credit line. Do not allow partial reconcilation.
The lines should have the same amount (with the write-off) and the same partner to be reconciled." colspan="4"/>

                    </page>
                </notebook>
                <button icon="gtk-ok" name="run_reconcile" colspan = "4" string="Start Auto Reconcilation" type="object"/>
                <separator colspan="4" string="Log" />
                <field name="rec_log" colspan = "4" nolabel="1"/>
            </form>
        </field>
    </record>

    <record id="account_easy_reconcile_tree" model="ir.ui.view">
        <field name="name">account.easy.reconcile.tree</field>
        <field name="priority">20</field>
        <field name="model">account.easy.reconcile</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Automatic Easy Reconcile">
                <field name="name"/>
                <field name="account"/>
                <field name="scheduler"/>
                <field name="unreconciled_count"/>
                <field name="reconciled_partial_count"/>
            </tree>
        </field>
    </record>

    <record id="action_account_easy_reconcile" model="ir.actions.act_window">
        <field name="name">Easy Automatic Reconcile</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">account.easy.reconcile</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'wizard_object' : 'account.easy.reconcile', 'function' : 'action_rec_auto', 'object_link' : 'account.easy.reconcile' }</field>
    </record>


<!-- account.easy.reconcile.method view -->

    <record id="account_easy_reconcile_method_form" model="ir.ui.view">
        <field name="name">account.easy.reconcile.method.form</field>
        <field name="priority">20</field>
        <field name="model">account.easy.reconcile.method</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Automatic Easy Reconcile Method">
                <field name="sequence"/>
                <field name="name"/>
                <field name="write_off"/>
                <field name="account_lost_id" attrs="{'required':[('write_off','>',0)]}"/>
                <field name="account_profit_id" attrs="{'required':[('write_off','>',0)]}"/>
                <field name="journal_id" attrs="{'required':[('write_off','>',0)]}"/>
                <field name="date_base_on"/>
                <field name="filter" groups="base.group_extended"/>
            </form>
        </field>
    </record>

    <record id="account_easy_reconcile_method_tree" model="ir.ui.view">
        <field name="name">account.easy.reconcile.method.tree</field>
        <field name="priority">20</field>
        <field name="model">account.easy.reconcile.method</field>
        <field name="type">tree</field>
        <field  name="arch" type="xml">
            <tree editable="top" string="Automatic Easy Reconcile Method">
                <field name="sequence"/>
                <field name="name"/>
                <field name="write_off"/>
                <field name="account_lost_id" attrs="{'required':[('write_off','>',0)]}"/>
                <field name="account_profit_id" attrs="{'required':[('write_off','>',0)]}"/>
                <field name="journal_id" attrs="{'required':[('write_off','>',0)]}"/>
                <field name="date_base_on"/>
                <field name="filter"/>
            </tree>
        </field>
    </record>

<!-- menu item -->

    <menuitem action="action_account_easy_reconcile" id="menu_easy_reconcile" parent="account.periodical_processing_reconciliation"/>


<!-- button on the left -->

    <record id="ir_action_create_scheduler_in_easy_reconcile" model="ir.values">
        <field name="key2">client_action_multi</field>
        <field name="model">account.easy.reconcile</field>
        <field name="name">Create a Scheduler</field>
        <field eval="'ir.actions.act_window,%d'%ref('base_scheduler_creator.action_scheduler_creator_wizard')" name="value"/>
        <field eval="True" name="object"/>
    </record>

</data>
</openerp>
